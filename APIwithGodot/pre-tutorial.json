[
  {
    "name": "Building a Leaderboard API with Django & Godot",
    "id": "TUTORIAL_001",
    "pages": [
      {
        "title": "Introduction",
        "logo": "[img]user://logo_django_godot.png[/img]",
        "bk_colour": "blue",
        "layout": "two_columns",
        "text": [
          "",
          "Welcome to the tutorial on building a **leaderboard API** using **Django REST Framework** and **Godot**!",
          "",
          "This tutorial is split into **three parts**:",
          "- **Part 1**: Creating a REST API with Django (theoretical + practical).",
          "- **Part 2**: Consuming the API in Godot (theoretical + practical).",
          "- **Part 3**: Advanced Godot UI for menus (optional).",
          "",
          "[left][center][img]user://diagram_django_godot.png[/img][/center][/left]",
          "",
          "By the end, you’ll have a working leaderboard system!",
          ""
        ]
      }
    ]
  },
  {
    "name": "Part 1: Building the Django REST API",
    "id": "PART_001",
    "pages": [
      {
        "title": "Theoretical: Django REST Framework Basics",
        "logo": "[img]user://logo_django.png[/img]",
        "bk_colour": "blue",
        "layout": "two_columns",
        "text": [
          "",
          "### What is Django REST Framework?",
          "Django REST Framework (DRF) is a Python library for building APIs quickly.",
          "",
          "Key concepts:",
          "1. **Serializers**: Convert Python objects to JSON.",
          "2. **Views**: Handle HTTP requests (GET/POST).",
          "3. **URL Routing**: Map URLs to views.",
          "",
          "[left][center][img]user://drf_components.png[/img][/center][/left]",
          "",
          "### Why use Django for this?",
          "Django provides a structured way to handle data and APIs cleanly.",
          ""
        ]
      },
      {
        "title": "Practical: Setting Up the Django API",
        "logo": "[img]user://logo_django_setup.png[/img]",
        "bk_colour": "green",
        "layout": "two_columns",
        "text": [
          "",
          "### Step 1: Install Django & DRF",
          "```bash",
          "pip install django djangorestframework",
          "```",
          "",
          "### Step 2: Create a Django Project & App",
          "```bash",
          "django-admin startproject leaderboard_api",
          "cd leaderboard_api",
          "python manage.py startapp leaderboard",
          "```",
          "",
          "[left][center][img]user://django_project_structure.png[/img][/center][/left]",
          "",
          "### Step 3: Configure `settings.py`",
          "Add `'rest_framework'` to `INSTALLED_APPS` and set `DEFAULT_PERMISSION_CLASS` to `AllowAny`.",
          "",
          "### Step 4: Create a Model & Serializer",
          "```python",
          "from rest_framework import serializers, viewsets",
          "from .models import LeaderboardEntry",
          "",
          "class LeaderboardEntrySerializer(serializers.ModelSerializer):",
          "    class Meta:",  # <-- Add this for JSON conversion
          "        model = LeaderboardEntry",
          "        fields = '__all__'",
          "```",
          "",
          "### Step 5: Create a View & URL Routing",
          "```python",
          "from rest_framework import viewsets",
          "from .models import LeaderboardEntry",
          "from .serializers import LeaderboardEntrySerializer",
          "",
          "class LeaderboardEntryViewSet(viewsets.ModelViewSet):",
          "    queryset = LeaderboardEntry.objects.all()",
          "    serializer_class = LeaderboardEntrySerializer",
          "```",
          "",
          "### Step 6: Run the API",
          "```bash",
          "python manage.py runserver",
          "```",
          "Visit `http://127.0.0.1:8000/api/leaderboard/` to test!",
          ""
        ]
      },
      {
        "title": "Practical: Testing the API",
        "logo": "[img]user://logo_api_test.png[/img]",
        "bk_colour": "green",
        "layout": "two_columns",
        "text": [
          "",
          "### Test the API with `curl`",
          "1. **POST** (Add a score):",
          "```bash",
          "curl -X POST http://127.0.0.1:8000/api/leaderboard/ -H 'Content-Type: application/json' -d '{\"player_name\": \"Alice\", \"score\": 100}'",
          "```",
          "",
          "2. **GET** (Fetch all scores):",
          "```bash",
          "curl http://127.0.0.1:8000/api/leaderboard/",
          "```",
          "",
          "### Expected Response (JSON):",
          "```json",
          "[",
          "  {",
          "    \"player_name\": \"Alice\",",
          "    \"score\": 100",
          "  }",
          "]",
          "```",
          "",
          "[left][center][img]user://api_response.png[/img][/center][/left]",
          "",
          "### Next: Part 2 – Godot Integration!"
        ]
      }
    ]
  },
  {
    "name": "Part 2: Consuming the API in Godot",
    "id": "PART_002",
    "pages": [
      {
        "title": "Theoretical: HTTP in Godot",
        "logo": "[img]user://logo_godot_http.png[/img]",
        "bk_colour": "blue",
        "layout": "two_columns",
        "text": [
          "",
          "### What is HTTP in Godot?",
          "Godot’s `HTTPRequest` allows you to send HTTP requests (GET/POST) to APIs.",
          "",
          "Key Features:",
          "1. **`HTTPRequest` Node**: Sends HTTP requests.",
          "2. **`GDScript`**: Simple scripting for HTTP.",
          "3. **Polling**: Checking the API at intervals (e.g., 60 seconds).",
          "",
          "[left][center][img]user://godot_http_node.png[/img][/center][/left]",
          "",
          "### How to Use HTTP in Godot?",
          "1. Create an `HTTPRequest` node.",
          "2. Set the URL and method (GET/POST).",
          "3. Handle the response with `request_completed`.",
          ""
        ]
      },
      {
        "title": "Practical: Setting Up Godot for HTTP",
        "logo": "[img]user://logo_godot_setup.png[/img]",
        "bk_colour": "green",
        "layout": "two_columns",
        "text": [
          "",
          "### Step 1: Create a New Godot Scene",
          "1. Open Godot and create a new scene.",
          "2. Add a `CanvasLayer` (for UI).",
          "3. Add a `Label` (to display scores).",
          "4. Add an `HTTPRequest` node.",
          "",
          "[left][center][img]user://godot_scene_setup.png[/img][/center][/left]",
          "",
          "### Step 2: Write GDScript for HTTP Request",
          "```gdscript",
          "extends Node",
          "",
          "var http_request = HTTPRequest.new()",
          "var leaderboard_data = []",
          "",
          "func _ready():",
          "    fetch_leaderboard()",
          "",
          "func fetch_leaderboard():",
          "    http_request.connect(\"request_completed\", self, \"_on_http_request_completed\")",
          "    http_request.request(\"GET\", \"http://localhost:8000/api/leaderboard/\")",
          "",
          "func _on_http_request_completed(result, headers):",
          "    if result.success:",
          "        var json_data = JSON.parse(result.body)",
          "        leaderboard_data = json_data",
          "        update_leaderboard_display()",
          "    else:",
          "        print(\"Error fetching leaderboard\")",
          "",
          "func update_leaderboard_display():",
          "    var leaderboard_label = $CanvasLayer/Label",
          "    leaderboard_label.text = \"\"",
          "    for score in leaderboard_data:",
          "        leaderboard_label.text += f\"{score.player_name}: {score.score}\\n\"",
          "```",
          "",
          "### Step 3: Add a Timer for Polling",
          "1. Add a `Timer` node to Godot.",
          "2. Set `Timeout` to **60 seconds** (1 minute).",
          "3. Connect the `timeout` signal to `fetch_leaderboard()`.",
          "",
          "### Step 4: Run the Scene",
          "```bash",
          "Run the Godot scene and check the `Label`!",
          "```",
          "",
          "[left][center][img]user://godot_polling.png[/img][/center][/left]",
          "",
          "### Expected Output:",
          "Alice: 100\nBob: 200\nCharlie: 150"
        ]
      },
      {
        "title": "Practical: Debugging & Improvements",
        "logo": "[img]user://logo_godot_debug.png[/img]",
        "bk_colour": "green",
        "layout": "two_columns",
        "text": [
          "",
          "### Common Issues & Fixes",
          "1. **Network Errors**: Ensure Django is running (`python manage.py runserver`).",
          "2. **CORS Issues**: If Godot can’t connect, use a CORS proxy (e.g., `ngrok`).",
          "3. **JSON Parsing Errors**: Check if the API returns valid JSON.",
          "",
          "[left][center][img]user://debugging_troubleshoot.png[/img][/center][/left]",
          "",
          "### Improvements",
          "1. **Error Handling**: Add more checks for failed requests.",
          "2. **UI Updates**: Use `QueueText` for smoother label updates.",
          "3. **Authentication**: Add API keys for security.",
          ""
        ]
      }
    ]
  },
  {
    "name": "Part 3: Parting Thoughts & Next Steps",
    "id": "PART_003",
    "pages": [
      {
        "title": "Theoretical: Next Steps",
        "logo": "[img]user://logo_next_steps.png[/img]",
        "bk_colour": "blue",
        "layout": "two_columns",
        "text": [
          "",
          "### What’s Next?",
          "1. **Add More Features**: Leaderboard rankings, user authentication.",
          "2. **Deploy the API**: Use services like Heroku or AWS.",
          "3. **Improve UI**: Add buttons, charts, or a frontend (HTML/JS).",
          "",
          "[left][center][img]user://next_steps_roadmap.png[/img][/center][/left]",
          "",
          "### Resources",
          "1. [Django REST Framework Docs](https://www.django-rest-framework.org/)",
          "2. [Godot HTTP Request Guide](https://docs.godotengine.org/en/stable/tutorials/http/http_request.html)",
          "3. [CORS Proxy (ngrok)](https://ngrok.com/)"
        ]
      }
    ]
  }
]
